<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CSC 212 Project: create3_straight_coverage::StraightCoverageStateMachine Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CSC 212 Project<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classcreate3__straight__coverage_1_1StraightCoverageStateMachine.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcreate3__straight__coverage_1_1StraightCoverageStateMachine-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">create3_straight_coverage::StraightCoverageStateMachine Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>State machine for implementing the straight line coverage algorithm.  
 <a href="classcreate3__straight__coverage_1_1StraightCoverageStateMachine.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="straight__coverage__state__machine_8hpp_source.html">straight_coverage_state_machine.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcreate3__straight__coverage_1_1StraightCoverageStateMachine_1_1CoverageOutput.html">CoverageOutput</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output structure for the coverage state machine.  <a href="structcreate3__straight__coverage_1_1StraightCoverageStateMachine_1_1CoverageOutput.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a7d091a30b3e22ba3c71e305b5375c9a1" id="r_a7d091a30b3e22ba3c71e305b5375c9a1"><td class="memItemLeft" align="right" valign="top"><a id="a7d091a30b3e22ba3c71e305b5375c9a1" name="a7d091a30b3e22ba3c71e305b5375c9a1"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>DockAction</b> = irobot_create_msgs::action::Dock</td></tr>
<tr class="separator:a7d091a30b3e22ba3c71e305b5375c9a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31f08a0b72bb1a7645fa6c06571a7138" id="r_a31f08a0b72bb1a7645fa6c06571a7138"><td class="memItemLeft" align="right" valign="top"><a id="a31f08a0b72bb1a7645fa6c06571a7138" name="a31f08a0b72bb1a7645fa6c06571a7138"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>UndockAction</b> = irobot_create_msgs::action::Undock</td></tr>
<tr class="separator:a31f08a0b72bb1a7645fa6c06571a7138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe1bc1575d9cef7f60e487dbce16779b" id="r_abe1bc1575d9cef7f60e487dbce16779b"><td class="memItemLeft" align="right" valign="top"><a id="abe1bc1575d9cef7f60e487dbce16779b" name="abe1bc1575d9cef7f60e487dbce16779b"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>TwistMsg</b> = geometry_msgs::msg::Twist</td></tr>
<tr class="separator:abe1bc1575d9cef7f60e487dbce16779b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adb0b09bfcd8b93fb6056afcde9778ed1" id="r_adb0b09bfcd8b93fb6056afcde9778ed1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcreate3__straight__coverage_1_1StraightCoverageStateMachine.html#adb0b09bfcd8b93fb6056afcde9778ed1">StraightCoverageStateMachine</a> (create3_examples_msgs::action::Coverage::Goal goal, rclcpp::Clock::SharedPtr clock, rclcpp::Logger logger, rclcpp_action::Client&lt; DockAction &gt;::SharedPtr dock_action_client, rclcpp_action::Client&lt; UndockAction &gt;::SharedPtr undock_action_client, rclcpp::Publisher&lt; TwistMsg &gt;::SharedPtr cmd_vel_publisher, bool has_reflexes)</td></tr>
<tr class="memdesc:adb0b09bfcd8b93fb6056afcde9778ed1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the <a class="el" href="classcreate3__straight__coverage_1_1StraightCoverageStateMachine.html" title="State machine for implementing the straight line coverage algorithm.">StraightCoverageStateMachine</a>.  <br /></td></tr>
<tr class="separator:adb0b09bfcd8b93fb6056afcde9778ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebd5422102d3fca5f1cff6f23be41b05" id="r_aebd5422102d3fca5f1cff6f23be41b05"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcreate3__straight__coverage_1_1StraightCoverageStateMachine.html#aebd5422102d3fca5f1cff6f23be41b05">~StraightCoverageStateMachine</a> ()</td></tr>
<tr class="memdesc:aebd5422102d3fca5f1cff6f23be41b05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <br /></td></tr>
<tr class="separator:aebd5422102d3fca5f1cff6f23be41b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5bb1b074f90bc82dd6efb3322487ffc" id="r_af5bb1b074f90bc82dd6efb3322487ffc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcreate3__straight__coverage_1_1StraightCoverageStateMachine_1_1CoverageOutput.html">CoverageOutput</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcreate3__straight__coverage_1_1StraightCoverageStateMachine.html#af5bb1b074f90bc82dd6efb3322487ffc">execute</a> (const <a class="el" href="structcreate3__straight__coverage_1_1Behavior_1_1Data.html">Behavior::Data</a> &amp;data)</td></tr>
<tr class="memdesc:af5bb1b074f90bc82dd6efb3322487ffc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute one cycle of the state machine.  <br /></td></tr>
<tr class="separator:af5bb1b074f90bc82dd6efb3322487ffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22d3ea5555a243ad6cbb66e3ff3a43b0" id="r_a22d3ea5555a243ad6cbb66e3ff3a43b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcreate3__straight__coverage_1_1StraightCoverageStateMachine.html#a22d3ea5555a243ad6cbb66e3ff3a43b0">cancel</a> ()</td></tr>
<tr class="memdesc:a22d3ea5555a243ad6cbb66e3ff3a43b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel the current behavior and state machine execution.  <br /></td></tr>
<tr class="separator:a22d3ea5555a243ad6cbb66e3ff3a43b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>State machine for implementing the straight line coverage algorithm. </p>
<p>This state machine coordinates a series of robot behaviors to implement an efficient coverage algorithm using straight-line movement patterns with rotation behaviors for obstacle avoidance. It manages transitions between different behaviors based on sensor inputs and coverage goals. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="adb0b09bfcd8b93fb6056afcde9778ed1" name="adb0b09bfcd8b93fb6056afcde9778ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb0b09bfcd8b93fb6056afcde9778ed1">&#9670;&#160;</a></span>StraightCoverageStateMachine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">create3_straight_coverage::StraightCoverageStateMachine::StraightCoverageStateMachine </td>
          <td>(</td>
          <td class="paramtype">create3_examples_msgs::action::Coverage::Goal&#160;</td>
          <td class="paramname"><em>goal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rclcpp::Clock::SharedPtr&#160;</td>
          <td class="paramname"><em>clock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rclcpp::Logger&#160;</td>
          <td class="paramname"><em>logger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rclcpp_action::Client&lt; DockAction &gt;::SharedPtr&#160;</td>
          <td class="paramname"><em>dock_action_client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rclcpp_action::Client&lt; UndockAction &gt;::SharedPtr&#160;</td>
          <td class="paramname"><em>undock_action_client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rclcpp::Publisher&lt; TwistMsg &gt;::SharedPtr&#160;</td>
          <td class="paramname"><em>cmd_vel_publisher</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>has_reflexes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for the <a class="el" href="classcreate3__straight__coverage_1_1StraightCoverageStateMachine.html" title="State machine for implementing the straight line coverage algorithm.">StraightCoverageStateMachine</a>. </p>
<p>Constructor for <a class="el" href="classcreate3__straight__coverage_1_1StraightCoverageStateMachine.html" title="State machine for implementing the straight line coverage algorithm.">StraightCoverageStateMachine</a>.</p>
<p>Initializes a new state machine with the given goal parameters and ROS resources for controlling the robot.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">goal</td><td>Coverage goal parameters including max runtime and explore duration </td></tr>
    <tr><td class="paramname">clock</td><td>ROS clock for time tracking </td></tr>
    <tr><td class="paramname">logger</td><td>Logger for outputting status messages </td></tr>
    <tr><td class="paramname">dock_action_client</td><td>Client for sending docking actions </td></tr>
    <tr><td class="paramname">undock_action_client</td><td>Client for sending undocking actions </td></tr>
    <tr><td class="paramname">cmd_vel_publisher</td><td>Publisher for velocity commands </td></tr>
    <tr><td class="paramname">has_reflexes</td><td>Whether the robot has built-in reflexes enabled</td></tr>
  </table>
  </dd>
</dl>
<p>Initializes a new state machine with all required resources. Sets up initial state variables and stores references to the ROS communication interfaces needed to control the robot.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">goal</td><td>Coverage goal parameters </td></tr>
    <tr><td class="paramname">clock</td><td>ROS clock for time tracking </td></tr>
    <tr><td class="paramname">logger</td><td>Logger for outputting status messages </td></tr>
    <tr><td class="paramname">dock_action_client</td><td>Client for sending docking actions </td></tr>
    <tr><td class="paramname">undock_action_client</td><td>Client for sending undocking actions </td></tr>
    <tr><td class="paramname">cmd_vel_publisher</td><td>Publisher for velocity commands </td></tr>
    <tr><td class="paramname">has_reflexes</td><td>Whether the robot has built-in reflexes enabled </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aebd5422102d3fca5f1cff6f23be41b05" name="aebd5422102d3fca5f1cff6f23be41b05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebd5422102d3fca5f1cff6f23be41b05">&#9670;&#160;</a></span>~StraightCoverageStateMachine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">create3_straight_coverage::StraightCoverageStateMachine::~StraightCoverageStateMachine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>Destructor for <a class="el" href="classcreate3__straight__coverage_1_1StraightCoverageStateMachine.html" title="State machine for implementing the straight line coverage algorithm.">StraightCoverageStateMachine</a>.</p>
<p>Ensures proper cleanup of active behaviors by calling the cancel method.</p>
<p>Ensures proper cleanup of resources by calling the cancel method, which will terminate any active behaviors. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a22d3ea5555a243ad6cbb66e3ff3a43b0" name="a22d3ea5555a243ad6cbb66e3ff3a43b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22d3ea5555a243ad6cbb66e3ff3a43b0">&#9670;&#160;</a></span>cancel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void create3_straight_coverage::StraightCoverageStateMachine::cancel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel the current behavior and state machine execution. </p>
<p>Ensures proper cleanup of resources when the state machine's execution is interrupted. This should be called when terminating the coverage operation before completion.</p>
<p>This method ensures proper cleanup when the state machine execution is terminated prematurely. It calls cleanup on the active behavior (if any) and resets the behavior pointer. </p>

</div>
</div>
<a id="af5bb1b074f90bc82dd6efb3322487ffc" name="af5bb1b074f90bc82dd6efb3322487ffc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5bb1b074f90bc82dd6efb3322487ffc">&#9670;&#160;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcreate3__straight__coverage_1_1StraightCoverageStateMachine_1_1CoverageOutput.html">StraightCoverageStateMachine::CoverageOutput</a> create3_straight_coverage::StraightCoverageStateMachine::execute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structcreate3__straight__coverage_1_1Behavior_1_1Data.html">Behavior::Data</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute one cycle of the state machine. </p>
<p>Processes the current sensor data, determines the appropriate behavior, and executes one cycle of that behavior. This function should be called repeatedly in a control loop until it returns SUCCESS or FAILURE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Current robot sensor and state data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structcreate3__straight__coverage_1_1StraightCoverageStateMachine_1_1CoverageOutput.html" title="Output structure for the coverage state machine.">CoverageOutput</a> The current state of the coverage algorithm with active behavior ID</dd></dl>
<p>This is the main method that drives the state machine's execution. When first called, it selects an initial behavior based on robot state. On subsequent calls, it either continues the current behavior or selects a new one based on the previous behavior's outcome.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Current sensor and state data from the robot </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structcreate3__straight__coverage_1_1StraightCoverageStateMachine_1_1CoverageOutput.html" title="Output structure for the coverage state machine.">CoverageOutput</a> Current state and active behavior ID </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>create3_straight_coverage/include/create3_straight_coverage/<a class="el" href="straight__coverage__state__machine_8hpp_source.html">straight_coverage_state_machine.hpp</a></li>
<li>create3_straight_coverage/src/<b>straight_coverage_state_machine.cpp</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>create3_straight_coverage</b></li><li class="navelem"><a class="el" href="classcreate3__straight__coverage_1_1StraightCoverageStateMachine.html">StraightCoverageStateMachine</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
